properties([pipelineTriggers([githubPush()])])
pipeline{
agent any
tools{
maven 'maven'
     }
     
options {
  buildDiscarder(logRotator(artifactDaysToKeepStr: '', artifactNumToKeepStr: '5', daysToKeepStr: '', numToKeepStr: '5'))
  timestamps()
}

stages{
   stage('checkout'){
   steps{
   git branch: 'devtest2', credentialsId: 'ed8c1e61-a403-40e4-964b-c50afd41129a', url: 'https://github.com/devops-hira/maven-web-application.git'
      
       }
                   }
   stage('Build'){
   steps{
   sh "mvn clean package"
                   }
		}
      
   } // Stages closing 
   
/*   post {
     always {
	  emailext body: '''Build is successful

	  Thanks
	  Hira''', recipientProviders: [buildUser()], subject: 'Build status ', to: 'hiralal.sahu@gmail.com'
     }
     aborted {
	  emailext body: '''Build is successful

	  Thanks
	  Hira''', recipientProviders: [buildUser()], subject: 'Build status ', to: 'hiralal.sahu@gmail.com'
     }
     success {
	  emailext body: '''Build is successful

	  Thanks
	  Hira''', recipientProviders: [buildUser()], subject: 'Build status ', to: 'hiralal.sahu@gmail.com'
     }
     failure {
	  emailext body: '''Build is successful

	  Thanks
	  Hira''', recipientProviders: [buildUser()], subject: 'Build status ', to: 'hiralal.sahu@gmail.com'
    */
   
   } //Pileline Closing
